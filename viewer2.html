<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dashboard</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet" />
    <link rel="shortcut icon" href="https://cms.ptcs.co.id/assets/icons/ptcs.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
        integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/dx.light.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="css/scalize.css" />
    <link rel="stylesheet" href="css/bootstrap-4.6.2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>

<body>
    <div class="wrapper d-flex align-items-stretch">
        <nav id="sidebar" class="active border-right">
            <button type="button" id="sidebarCollapse" class="navbar-toggler mt-3 mb-2"
                style="border-color: #007bff; color: #fff">
                <i class="fa fa-bars"></i>
                <span class="sr-only">Toggle Menu</span>
            </button>
            <!-- <h1><a href="index.html" class="logo">M.</a></h1> -->
            <ul class="list-unstyled components mb-5">
                <li >
                    <a href="#"><span class="fa fa-home"></span> Home</a>
                </li>
                <li class="left-menu-active">
                    <a href="viewer2.html"><span class="fa fa-user"></span> About</a>
                </li>
                <li>
                    <a href="#"><span class="fa fa-sticky-note"></span> Blog</a>
                </li>
                <li>
                    <a href="#"><span class="fa fa-cogs"></span> Services</a>
                </li>
                <li>
                    <a href="#"><span class="fa fa-paper-plane"></span> Contacts</a>
                </li>
            </ul>
        </nav>

        <nav id="sidebar2" class="p-1 sidebar2mobile">
            <!-- Create a div element for the tree -->
            <div class="container-fluid mt-2">
                <div class="row">
                    <div class="col-md-12">
                        <div id="treelist"></div>
                        <div id="context-menu"></div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Page Content  -->
        <div id="content" class="p-md-2">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark navrounded">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#" style="display: grid; grid-template-columns: auto 1fr">
                        <img src="https://cms.ptcs.co.id/assets/images/ptcs.png" width="120" height="60"
                            class="d-inline-block align-top" alt="Logo" />
                        <h5 class="text-white font-weight-bold mr-2 mt-2 ml-3">
                            Data Analityc System
                        </h5>
                    </a>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fa fa-bars"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item active">
                                <a class="nav-link" href="#">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">About</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Services
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="#">Service 1</a>
                                    <a class="dropdown-item" href="#">Service 2</a>
                                    <a class="dropdown-item" href="#">Service 3</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Portfolio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Contact</a>
                            </li>
                        </ul>
                        <ul class="nav navbar-nav nav-pills nav-pillsx ml-auto mr-5">
                            <li class="nav-item mr-4">
                                <a class="nav-link active" data-toggle="tab" href="#tab1">Tab 1</a>
                            </li>
                            <li class="nav-item mr-4">
                                <a class="nav-link" data-toggle="tab" href="#tab2">Tab 2</a>
                            </li>
                            <li class="nav-item mr-4">
                                <a class="nav-link" data-toggle="tab" href="#tab3">Tab 3</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img src="https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg"
                                        width="40" height="40" class="rounded-circle" />
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="#">Dashboard</a>
                                    <a class="dropdown-item" href="#">Edit Profile</a>
                                    <a class="dropdown-item" href="#">Log Out</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- Tab content -->
            <div class="tab-content mt-1 mb-5 overflow-auto custome-scroll" style="height: 800px">
                <div class="tab-pane active" id="tab1">
                    <div class="container">
                        <!-- <button class="zoom-btn d-block btn-sm btn-info mb-2" style="z-index: 9999">
                            <i class="fa fa-search-plus fa-1" aria-hidden="true"></i>
                        </button>
                        <button class="zoom-out d-block btn-sm btn-info" style="z-index: 9999">
                            <i class="fa fa-search-minus fa-1" aria-hidden="true"></i>
                        </button> -->
                        <!-- <div id="navigator">
                            <img src="small-image.png" alt="">
                        </div> -->
                        <!-- <div class="row">
              <div class="col">
                <div class="d-flex justify-content-center align-items-center" style="width: 100%; height: 100%">
                  <div id="scrool" class="overflow-auto rounded custome-scroll" style="height: 400px; width: 1080px">
                    <div class="scalize" id="imagepoint"></div>
                  </div>
                </div>
              </div>
            </div> -->
                        <div class="row">
              <div class="col">
                <div class="d-flex justify-content-center align-items-center" style="width: 100%; height: 100%">
                        <div id="openseadragon1" style="width: 1080px; height: 600px;"></div>
                        <div id="overlysx">
                            <img id="right-arrow-overlay"
                                src="http://upload.wikimedia.org/wikipedia/commons/7/7a/Red_Arrow_Right.svg"
                                alt="Right arrow" width="20">
                            <div id=right-arrow-overlay-2 data-name="Perxcobaan">
                                <img src="http://upload.wikimedia.org/wikipedia/commons/7/7a/Red_Arrow_Right.svg"
                                    alt="Right arrow" width="20">
                            </div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="toggle-button">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
              </div>
                        <!-- <button id="geoJump">Jump!</button> -->

                        <style>
                            .switch {
                                position: relative;
                                display: inline-block;
                                width: 60px;
                                height: 34px;
                            }

                            .switch input {
                                opacity: 0;
                                width: 0;
                                height: 0;
                            }

                            .slider {
                                position: absolute;
                                cursor: pointer;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background-color: #ccc;
                                -webkit-transition: .4s;
                                transition: .4s;
                            }

                            .slider:before {
                                position: absolute;
                                content: "";
                                height: 26px;
                                width: 26px;
                                left: 4px;
                                bottom: 4px;
                                background-color: white;
                                -webkit-transition: .4s;
                                transition: .4s;
                            }

                            input:checked+.slider {
                                background-color: #2196F3;
                            }

                            input:focus+.slider {
                                box-shadow: 0 0 1px #2196F3;
                            }

                            input:checked+.slider:before {
                                -webkit-transform: translateX(26px);
                                -ms-transform: translateX(26px);
                                transform: translateX(26px);
                            }

                            .slider.round {
                                border-radius: 34px;
                            }

                            .slider.round:before {
                                border-radius: 50%;
                            }
                        </style>
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <div class="card shadow">
                                    <div class="card-body">
                                        <div class="clearfix">
                                            <div class="form-inline float-left">
                                                <label for="find-input" class="font-weight-bold">Find</label>
                                                <input type="find" class="form-control ds-input mb-1 ml-2"
                                                    id="search-input" placeholder="Find..." aria-label="Find for..."
                                                    autocomplete="off" spellcheck="false" role="combobox"
                                                    aria-autocomplete="list" aria-expanded="false"
                                                    aria-owns="algolia-autocomplete-listbox-0" dir="auto"
                                                    style="position: relative; vertical-align: top" />
                                            </div>
                                            <div class="form-inline float-right">
                                                <label for="search-input" class="font-weight-bold">Search</label>
                                                <input type="search" class="form-control ds-input mb-1 ml-2"
                                                    id="search-input2" placeholder="Search..." aria-label="Find for..."
                                                    autocomplete="off" spellcheck="false" role="combobox"
                                                    aria-autocomplete="list" aria-expanded="false"
                                                    aria-owns="algolia-autocomplete-listbox-0" dir="auto"
                                                    style="position: relative; vertical-align: top" />
                                            </div>
                                        </div>
                                        <table class="table table-bordered mt-2 mb-3" id="tobrak">
                                            <thead class="thead-dark">
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">First</th>
                                                    <th scope="col">Last</th>
                                                    <th scope="col">Handle</th>
                                                    <th scope="col">A</th>
                                                    <th scope="col">B</th>
                                                    <th scope="col">C</th>
                                                    <th scope="col">D</th>
                                                    <th scope="col">E</th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-md-6">
              </div> -->
                        </div>
                    </div>
                    <br />
                    <br />
                    <br />
                </div>
                <div class="tab-pane" id="tab2">
                    <h2>Ini adalah isi Tab 2</h2>
                    <p>
                        Integer id felis euismod, auctor lectus a, aliquam felis. Nulla
                        euismod, odio sit amet malesuada ultricies, massa sapien dapibus
                        neque, a sagittis purus enim ut tortor. Pellentesque tincidunt
                        urna sit amet justo pharetra, sit amet hendrerit velit sodales.
                    </p>
                </div>
                <div class="tab-pane" id="tab3">
                    <h2 class="mb-4">Sidebar #07</h2>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                        enim ad minim veniam, quis nostrud exercitation ullamco laboris
                        nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
                        reprehenderit in voluptate velit esse cillum dolore eu fugiat
                        nulla pariatur. Excepteur sint occaecat cupidatat non proident,
                        sunt in culpa qui officia deserunt mollit anim id est laborum.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                        enim ad minim veniam, quis nostrud exercitation ullamco laboris
                        nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
                        reprehenderit in voluptate velit esse cillum dolore eu fugiat
                        nulla pariatur. Excepteur sint occaecat cupidatat non proident,
                        sunt in culpa qui officia deserunt mollit anim id est laborum.
                    </p>
                </div>
            </div>

            <footer class="bg-light py-3 fixed-bottom app-main-footer">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <p>
                                &copy; 2023 Nama Perusahaan Anda. Hak Cipta Dilindungi
                                Undang-Undang.
                            </p>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-inline float-md-right text-right">
                                <div id="weather-info" class="list-inline-item"></div>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <!-- Sidebar Kanan -->
        <nav id="sidebar3" class="active border-right">
            <button type="button" id="sidebarCollapse2" style="border-color: #007bff; color: #fff"
                class="mt-3 mb-2 navbar-toggler hidebtna">
                <i class="fa fa-bars"></i>
                <span class="sr-only">Toggle Menu</span>
            </button>
            <ul class="list-unstyled components mb-5" id="accordion">
                <li class="active">
                    <a data-toggle="collapse" class="iconkanans" href="#multiCollapseExample1" role="button"
                        aria-expanded="false" aria-controls="multiCollapseExample1"><span class="fa fa-cloud"></span>
                        Weather</a>
                </li>
                <div class="collapse multi-collapse" id="multiCollapseExample1">
                    <div class="card card-body text-muted">
                        <a class="weatherwidget-io" href="https://forecast7.com/en/n6d21106d85/jakarta/"
                            data-label_1="JAKARTA" data-label_2="WEATHER" data-days="3" data-theme="dark">JAKARTA
                            WEATHER</a>
                    </div>
                </div>
                <li>
                    <a class="iconkanans" data-toggle="collapse" href="#multiCollapseExample2" role="button"
                        aria-expanded="false" aria-controls="multiCollapseExample2">
                        <span class="fa fa-tasks"></span> Task
                        <span class="badge badge-danger ml-2" id="taskbadge">0</span>
                    </a>
                </li>
                <div class="collapse multi-collapse" id="multiCollapseExample2">
                    <div class="card card-body text-muted">
                        <form id="task-form" class="mb-3">
                            <div class="form-row">
                                <div class="col-9">
                                    <input type="text" id="task-input" class="form-control" placeholder="Enter task" />
                                </div>
                                <div class="col-3">
                                    <button type="submit" class="btn btn-sm btn-primary btn-block">
                                        Add
                                    </button>
                                </div>
                            </div>
                        </form>

                        <!-- Task List -->
                        <ul id="task-list" class="list-group">
                            <!-- Tasks will be added dynamically here -->
                        </ul>
                    </div>
                </div>
                <li>
                    <a href="#collapse-blog" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><span
                            class="fa fa-sticky-note"></span> Blog<span class="badge badge-primary ml-2">2</span></a>
                    <ul class="collapse list-unstyled" id="collapse-blog" data-parent="#accordion">
                        <li><a href="#">Blog Post 1</a></li>
                        <li><a href="#">Blog Post 2</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><span class="fa fa-cogs"></span> Services</a>
                </li>
                <li>
                    <a href="#collapse-contacts" data-toggle="collapse" aria-expanded="false"
                        class="dropdown-toggle"><span class="fa fa-paper-plane"></span> Contacts<span
                            class="badge badge-danger ml-2">5</span></a>
                    <ul class="collapse list-unstyled" id="collapse-contacts" data-parent="#accordion">
                        <li><a href="#">Contact 1</a></li>
                        <li><a href="#">Contact 2</a></li>
                        <li><a href="#">Contact 3</a></li>
                        <li><a href="#">Contact 4</a></li>
                        <li><a href="#">Contact 5</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>

    <div class="float">
        <div class="card">
            <div class="card-header font-weight-bold">Featured</div>
            <div class="card-body" id="floating-detail"></div>
        </div>
        <a href="javascript:void(0);" class="event-close-btn">Hide</a>
    </div>

    <!-- <script src="js/jquery.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <!-- <script src="js/popper.js"></script> -->
    <script src="js/bootstrap-4.6.2/js/bootstrap.bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="js/dx.all.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="js/jquery.highlight-5.js"></script>
    <script src="js/scalize.js"></script>
    <script src="js/script.js"></script>
    <script src="js/main.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/openseadragon.min.js"></script>
    <script type="text/javascript">
        var viewer = OpenSeadragon({
            id: "openseadragon1",
            tileSources: [{
                type: 'image',
                url: '../P&ID_HQpixel.png',
                overlays: [{
                    id: 'right-arrow-overlay',
                    x: 0.2008,
                    y: 0.4778,
                    placement: 'RIGHT',
                    checkResize: true
                }, {
                    id: 'right-arrow-overlay-2',
                    x: 0.2308,
                    y: 0.4378,
                    placement: 'RIGHT',
                    checkResize: true
                }],
            }],
            showNavigator: true,
            prefixUrl: "https://openseadragon.github.io/openseadragon/images/",
        });
        viewer.addHandler('open', () => {
            new OpenSeadragon.MouseTracker({
                element: document.getElementById('right-arrow-overlay-2'),
                clickHandler: e => alert('Element clicked! ' + e.originalEvent.target.dataset.name), //console.log(e.originalEvent.target.dataset.name)
                contextMenuHandler: e => alert('Context menu fired! ' + e.originalEvent.target.id),
            });

        });

        viewer.addHandler('canvas-click', function (event) {
            const toggleButton = document.getElementById("toggle-button");
            // toggleButton.addEventListener("change", function () {
            if (toggleButton.checked) {
                let userInput = prompt("Please enter your name:");

                // get the current mouse position in the viewport coordinates
                var viewportPoint = viewer.viewport.pointFromPixel(event.position);
                console.log(viewportPoint);
                // get the current image coordinates based on the viewport position
                var imagePoint = viewer.viewport.viewportToImageCoordinates(viewportPoint);
                console.log(imagePoint);
                var number = Math.floor((Math.random() * 300) + 1);
                var elt = document.createElement("div");
                elt.setAttribute("data-name", "Name : " + userInput);
                elt.id = 'runtime-overlay' + number;
                elt.className = "highlight";
                var image = document.createElement("img")
                image.id = 'right-arrow-overlay';
                image.src = 'http://upload.wikimedia.org/wikipedia/commons/7/7a/Red_Arrow_Right.svg';
                image.width = '20';
                elt.appendChild(image);
                viewer.addOverlay({
                    element: elt,
                    px: imagePoint.x,
                    py: imagePoint.y,
                    checkResize: false,
                    placement: OpenSeadragon.OverlayPlacement.RIGHT
                });

                var tracker = new OpenSeadragon.MouseTracker({
                    element: elt,
                    clickHandler: e => alert('Element clicked! ' + e.originalEvent.target.dataset.name), //console.log(e.originalEvent.target.dataset.name)
                    contextMenuHandler: e => alert('Context menu fired! ' + e.originalEvent.target.id),

                });
            } else {
                console.log("Toggle button is inactive");
            }
            // });

        });


        // $("#geoJump").click(function () {
        //   var elt = document.createElement("div");
        //   elt.id = 'runtime-overlay';
        //   elt.className = "highlight";
        //   var image = document.createElement("img")
        //   image.id = 'right-arrow-overlay';
        //   image.src = 'http://upload.wikimedia.org/wikipedia/commons/7/7a/Red_Arrow_Right.svg';
        //   image.width = '20';
        //   elt.appendChild(image);
        //   viewer.addOverlay({
        //     element: elt,
        //     px: 1000,
        //     py: 2000,
        //     checkResize: false,
        //     placement: OpenSeadragon.OverlayPlacement.RIGHT
        //   });
        // });
        viewer.gestureSettingsMouse.clickToZoom = true / false
    </script>
</body>

</html>

<!-- Catatan -->

<!-- Untuk mendapatkan koordinat aslinya di kurang 10 -->